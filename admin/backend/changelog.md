# Changelog

## [Unreleased]

### Added
- 在 SystemStatus 模型中添加了 uptime 字段
- 在系统状态 API 中添加了系统启动时间的获取功能
- 添加了统一的管理员账户管理工具 (admin_cli.py)
- 添加了缓存相关的测试用例
- 添加了评论相关的测试用例
- 添加了通用工具类的测试用例
- 添加了仪表盘相关的测试用例
- 添加了数据库初始化相关的测试用例
- 添加了日志相关的测试用例
- 添加了安全相关的测试用例
- 新增评论批量操作功能
  - 支持批量审核通过评论
  - 支持批量标记垃圾评论
  - 添加相关测试用例

### Changed
- 修复了 dashboard 相关的测试用例
- 优化了系统状态数据的获取方式
- 删除了重复的 main.py，统一使用 run.py 作为启动入口
- 合并了 check_admin.py 和 reset_admin_password.py 到 admin_cli.py
- 修复了 run.py 的导入路径问题
- 修复了初始化数据中管理员用户的 is_superuser 字段
- 优化了日志配置，支持自定义日志目录
- 提高了测试覆盖率至 84.39%
- 修改评论批量操作的路由路径，使用连字符替代斜杠
- 优化评论状态更新逻辑，同时更新 `is_approved` 和 `is_spam` 状态

### Removed
- 删除了本地文件上传相关配置和目录，完全迁移到七牛云存储
- 移除了 uploads 目录和相关的本地存储代码

### Fixed
- 修复评论批量操作的请求体验证问题
- 修复测试用例中的路由路径问题