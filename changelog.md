# Changelog

## [Unreleased]

### Changed

- 优化评论管理界面的回复显示效果
  - 使用 Ant Design Vue 的 Comment 组件替换自定义评论结构
  - 改进评论层级显示，支持多级回复
  - 优化评论操作按钮的样式和交互
  - 添加评论状态标签和时间提示
  - 改进回复抽屉的视觉层次
- 优化用户头像管理功能
  - 移除用户列表中的头像编辑功能，统一在用户编辑页面管理头像
  - 修复用户编辑页面的头像上传功能
  - 添加图片压缩功能，优化上传体验
  - 限制图片最大尺寸为 400x400，压缩质量为 0.6
- 优化用户权限管理功能
  - 添加 is_superuser 字段到用户表
  - 修复用户认证和权限验证逻辑
  - 优化密码哈希处理
  - 更新数据库迁移脚本

### Added

- 添加评论回复的多级展示功能
  - 支持查看子回复
  - 显示回复关系
  - 优化回复加载逻辑
  - 添加评论编辑功能
  - 添加评论删除功能
  - 添加单元测试用例
- 添加用户权限管理功能
  - 支持超级管理员角色
  - 添加权限验证中间件
  - 优化用户认证流程
  - 添加相关单元测试
- 用户头像上传功能
  - 支持图片上传到七牛云
  - 支持图片格式验证
  - 实现头像 URL 更新
- 实现文章图片上传功能
  - 使用七牛云存储服务
  - 支持 Markdown 编辑器图片上传
  - 图片存储在 articles 目录下

### Technical

- 重构评论列表组件
  - 优化组件样式结构
  - 改进代码可维护性
  - 添加类型注解
- 修复文档格式问题
  - 规范化 Markdown 文档格式
  - 添加适当的空行和缩进
  - 优化文档结构和可读性
- 修复数据库和缓存相关问题
  - 修复评论删除功能中的级联删除问题
  - 优化缓存处理逻辑
  - 更新 Pydantic 配置到 v2 版本
  - 修复数据库迁移和初始化问题
  - 添加默认管理员和测试用户账号
- 优化数据库结构
  - 修改用户表字段定义
  - 优化字段类型和约束
  - 添加索引以提升查询性能